# テスト駆動開発

## 目指すゴール
***動作するきれいなコード***

## メリット

- 開発が予測可能になる。
  - 完成したかどうかがわかり、バグが残っているかを心配する必要がない
- コードが伝えようとしていることを余すことなく受け取れる
  - 最初に思いついたコードを書きなぐっただけで終わりなら、再考してより良いコードを書くチャンスは永遠に来ない。
- あなたが作るソフトウェアのユーザを快適にする
- チームメイトはあなたを信頼し、あなたもチームメイトを信頼する
- 書いていて気持ちがいい

## ルール

- 自動化されたテストが失敗したときのみ、新しいコードを書く。
- 重複を除去する。

### ルールが個人・チームに対する技術的影響

- 有機的に設計を進められる様になる。
  - 動作するコードが設計判断にFBをもたらすため。
- 自分たちでテストを書くようになる。
  - 誰かがテストを書くのを待っているのが無駄
- 小さな変更に迅速に応答する開発環境を備えなくてはならなくなる。
- 高凝集＆疎結合な部品で構成された設計を行うようになる。
  - テストが書きやすいので

## マントラ（おまじない的な）

1. レッド
   - 動作しない、おそらくコンパイルも通らないテストを一つ書く
2. グリーン
   - そのテストを迅速に動作させる。このステップでは罪（クソコードを書く、うまく動いていると誤認させるハリボテの関数を作る）を犯しても良い
3. リファクタリング
   - テストを通すために発生した重複を全て除去する。

### マントラ的プログラミングスタイルによる周囲への影響

- 欠陥率を十分に下げられる
  - 品質保証担当者は先手を打って仕事ができる
  - 新しい機能を伴うソフトウェアを毎日リリースすることが可能（しても問題ないような環境）になり、顧客との新しい関係を作れる。
- 悪い知らせを十分に減らせる
  - PMは正確な見積もりを行える
  - 顧客を日々の開発に安心して巻き込める
- 技術的な議論の対象を十分明確にできる
  - エンジニアは週や日でまとめた煩雑なコミュニケーションでなく、細かい議題に絞ったスムーズなコミュニケーションが行える

